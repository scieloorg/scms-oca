{% load i18n static %}

<div>
  <form id="menu-form">
    {% csrf_token %} 
    <div id="menu-fields">
      {% if data_source == "social" %}
        {% include "filters/soc_prod.html" %}
      {% else %}
        {% include "filters/sci_prod_world.html" %}
      {% endif %}
    </div>

    <div class="menu-floating-actions mt-6">
      <div class="menu-floating-actions__inner">
        <button id="menu-reset" type="button" class="btn btn-secondary me-2">{% trans "Reset" %}</button>
        <button id="menu-submit" type="submit" class="btn btn-primary">{% trans "Generate" %}</button>
      </div>
    </div>
  </form>
</div>

<script>
  // Initialize the menu with the appropriate data source
  document.addEventListener('DOMContentLoaded', () => {
    const dataSource = "{{ data_source|escapejs }}";
    const studyUnit = "{{ study_unit|default:'document'|escapejs }}";
    initIndicatorForm(dataSource, studyUnit);
  });
</script>
